!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("axios")):"function"==typeof define&&define.amd?define(["axios"],t):"object"==typeof exports?exports["axios-interceptor"]=t(require("axios")):e["axios-interceptor"]=t(e.axios)}(this,function(__WEBPACK_EXTERNAL_MODULE_36__){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=625)}({1027:function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.createElement("p");r&&(n.className=r),n.appendChild(document.createTextNode(t)),e.appendChild(n)}var o=r(1031),i=r(1028),a=i.TITLE,s=i.SUBTITLE,u=i.QUICKFIXES,c=i.SUFFIX,l=r(1029),d=l.CHALLENGE_BOX_CLASSNAME,p=l.styles,f=l.MODAL_CLASSNAME,m=l.QUICKFIX_CLASSNAME,g=l.SUBTITLE_CLASSNAME,v=l.TITLE_CLASSNAME,E="px-captcha",_=void 0;e.exports.removeCaptcha=function(){["."+f,"#"+E].forEach(function(e){var t=document.querySelector(e);t&&t.parentElement.removeChild(t)}),_&&(_.disconnect(),_=null)},e.exports.createModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,r=void 0===t?"":t,i=e.title,l=void 0===i?a:i,h=e.subtitle,x=void 0===h?s:h,b=e.quickfixes,y=void 0===b?u:b,A=e.suffix,w=void 0===A?c:A,O=e.abort,S=void 0===O?function(){return null}:O,T=document.createElement("dialog");T.className=[f,r].filter(Boolean).join(" "),T.setAttribute("open","open"),T.addEventListener("click",function(e){var t=e.target;t===T&&(t.classList.contains("working")||S())},{capture:!1});var C=document.createElement("div");l&&n(C,l,v),x&&n(C,x,g);var I=document.createElement("div");I.id=E,I.className=d,C.appendChild(I),y&&y.forEach(function(e){return n(C,e,m)}),w&&n(C,w);var N=document.createElement("style"),L=o(9999);return N.textContent=p({zIndex:L}),C.appendChild(N),_&&_.disconnect(),_=new MutationObserver(function(e,t){e.forEach(function(e){var r=e.target;if(r.querySelector('iframe[src*="recaptcha"]')){var n=Number(window.getComputedStyle(r).getPropertyValue("z-index"));n&&L>=n&&(N.textContent=p({zIndex:n-1}),t.disconnect())}})}),_.observe(document.body,{attributes:!1,childList:!0,subtree:!0}),T.appendChild(C),T},e.exports.disableModalClose=function(){var e=document.querySelector("."+f);e&&e.classList.add("working")}},1028:function(e,t,r){"use strict";e.exports.TITLE="One Small Step",e.exports.SUBTITLE="Please check the box below to continue your normal visit",e.exports.QUICKFIXES=["Please exclude this website from ad blocking or ad filtering software.","Make sure you don't have any browser extensions tampering with request headers or user agent string."],e.exports.SUFFIX="If you're still having trouble accessing the site, please contact customer support."},1029:function(e,t,r){"use strict";var n="perimeterx-async-challenge",o="challenge-box",i="title",a="subtitle",s="quickfix",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zIndex,r=void 0===t?1e4:t;return"\n."+n+" {\n    z-index: "+r+";\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border: 0;\n    margin: 0;\n    padding: 0;\n    background: rgba(0, 0, 0, .3);\n    color: black;\n}\n."+n+" > div {\n    margin: 20vh 20vw 0;\n    background: white;\n    box-shadow: 0 0 2em rgba(0, 0, 0, .4);\n    padding: 1em 1.5em;\n}\n@keyframes px-challenge-appear {\n    0% { max-height: 0px; }\n    60% { max-height: 0px; }\n    100% { max-height: 200px; }\n}\n."+o+" > div > iframe {\n    margin: 0 auto;\n    animation: px-challenge-appear .6s ease-in;\n}\n."+n+" p,\n."+n+" ."+o+" {\n    margin: 0 0 .5em;\n}\n."+n+" ."+i+" {\n    font-size: 2em;\n    font-weight: bold;\n}\n."+n+" ."+a+" {\n    font-size: 1.4em;\n}\n."+n+" ."+s+" {\n    font-size: .8em;\n    margin: 0;\n}\n."+n+" ."+s+':before {\n    content: "\\2022";\n    margin: 0 .5em\n}\n@media screen and (max-width:1040px) {\n    .'+n+" > div {\n        margin: 10vh 10vw 0;\n    }\n}\n@media screen and (max-width:800px) {\n    ."+n+" > div {\n        margin: 5vw 5vw 0;\n    }\n}\n"};e.exports={CHALLENGE_BOX_CLASSNAME:o,MODAL_CLASSNAME:n,QUICKFIX_CLASSNAME:s,styles:u,SUBTITLE_CLASSNAME:a,TITLE_CLASSNAME:i}},1030:function(e,t,r){"use strict";e.exports=function(e){return Promise.resolve(e)}},1031:function(e,t,r){"use strict";var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Math.pow(2,31)-1,i=function(e){return Number(document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"))};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{for(var t=document.querySelectorAll("body *").entries(),r=void 0,a=void 0;s=t.next(),r=s.value,a=s.done,s;){var s;if(a)break;var u=r,c=n(u,2),l=c[1],d=i(l);if(!Number.isNaN(d)&&(e=Math.max(e,d),e>=o))return o}return e+1}catch(p){return o}}},1032:function(e,t,r){"use strict";var n=["appId","jsClientSrc","blockScript"];e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.getOwnPropertyNames(e);return n.every(function(e){return t.includes(e)})}},1033:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.base,n=void 0===r?document:r,o=t.timeout,a=void 0===o?3e3:o,u=t.reject,c=void 0===u?function(){return null}:u,l=1/0>a?setTimeout(function(){i(),c(new Error("PerimeterX Axios Interceptor: Failed to load script resource after "+a+"ms."))},a):void 0;e.addEventListener("load",function(){clearTimeout(l),setTimeout(function(){var e=n.querySelector(".g-recaptcha");if(e){var t=e.getAttribute("data-callback"),r=window[t];"function"==typeof r&&(window[t]=function(){s();for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return r.apply(window,t)})}})})}var o=r(1027),i=o.removeCaptcha,a=o.createModal,s=o.disableModalClose;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,r=e.jsClientSrc,o=e.firstPartyEnabled,s=e.vid,u=e.uuid,c=e.hostUrl,l=e.blockScript,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,p){function f(){i(),p(new Error("PerimeterX Axios Interceptor: Aborted by user."))}if("string"!=typeof l)return void p(new TypeError('PerimeterX Axios Interceptor: Expected "blockScript" to be a string, instead received '+l+"."));Object.assign(window,{_pxAppId:t,_pxJsClientSrc:r,_pxFirstPartyEnabled:o,_pxVid:s,_pxUuid:u,_pxHostUrl:c});var m=window._pxOnCaptchaSuccess;window._pxOnCaptchaSuccess=function(t){return i(),t?e():p(new Error("PerimeterX Axios Interceptor: Failed to exonerate visitor.")),window._pxOnCaptchaSuccess=m,m&&m.call(window,t)};var g=document.body||document.getElementsByTagName("body")[0];i();var v=a(Object.assign({abort:f},d));g.appendChild(v);var E=document.createElement("script");E.src=l,n(E,{base:v,timeout:d.timeout,reject:p}),g.appendChild(E)})}},1034:function(e,t,r){"use strict";var n=r(1032),o=r(1033),i=r(1035);e.exports=function(e){var t=this.axios,r=this.filter,a=this.onintercept,s=this.onignore,u=this.onsuccess,c=this.onfailure,l=this.onerror,d=this.simulate,p=this.modalConfig;return new Promise(function(f,m){try{var g=e.response,v=void 0===g?{}:g,E=v.data,_=v.status;if(403!==_||!n(E))return void m(e);var h=r({appId:E.appId,path:e.config.url});if(!h)return e.ignored=!0,s(e.config),void m(e);if(a(e.config),d)return void m(e);var x=0===i.size,b=function(r){return r?m(r)||c(e.config,r):t(e.config).then(f)["catch"](m)&&u(e.config)};i.enqueue(b),x&&o(E,p).then(function(){return i.release()})["catch"](function(e){return i.release(e)})}catch(y){m(e),y.toJSON=function(){return{message:y.message,stack:y.stack,code:"AXIOS_INTERCEPTOR_ERROR",config:JSON.stringify(e.config)}},l(y)}})}},1035:function(e,t,r){"use strict";var n=[];e.exports={get size(){return n.length},enqueue:function(e){return n.push(e)},release:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var o=n.slice();n.length=0,o.forEach(function(e){return e.apply(void 0,t)})}}},36:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_36__},464:function(e,t,r){"use strict";var n=r(1030),o=r(1034),i=void 0;e.exports.attach=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.filter,s=void 0===a?function(){return!0}:a,u=r.onintercept,c=void 0===u?function(){return null}:u,l=r.onignore,d=void 0===l?function(){return null}:l,p=r.onsuccess,f=void 0===p?function(){return null}:p,m=r.onfailure,g=void 0===m?function(){return null}:m,v=r.onerror,E=void 0===v?function(){return null}:v,_=r.simulate,h=void 0===_?!1:_,x=r.modalConfig,b=void 0===x?{}:x;if("function"!=typeof Map){var y=new Error("Map is not supported by this browser. Abort interceptor");return y.code="UNSUPPORTED_BROWSER",void E(y)}i=i||new Map;var A={axios:t,filter:s,onintercept:c,onignore:d,onsuccess:f,onfailure:g,onerror:E,simulate:h,modalConfig:b};return i.has(t)||i.set(t,t.interceptors.response.use(n.bind(A),o.bind(A))),e.exports},e.exports.detach=function(t){return i.has(t)&&(t.interceptors.response.eject(i.get(t)),i["delete"](t)),e.exports}},625:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function start(){function emptyData(){data.logs.length=0,data.stats.length=0}function message(e){var t=e.log,r=e.stat;clearTimeout(timer),t&&data.logs.push(t),r&&data.stats.push(r),enrich(data),timer=setTimeout(function(){_axios2["default"]({url:browser_stats_api,method:"post",data:data}).then(emptyData)["catch"](emptyData)},500)}var browser_stats_api=metaTag("browser_stats_api_v1"),data={logs:[],stats:[]},timer=void 0;try{eval("const o={},x={...o};new Map()")}catch(e){supportES6=!1}_axios2["default"]&&browser_stats_api&&_perimeterxAxiosInterceptor.attach(_axios2["default"],{filter:function(e){var t=e.path;return!ignorePattern.test(t.replace(/^https:\/\/\w{2,4}\.fiverr\.com/,""))},onintercept:function(e){message({log:{level:"info",message:"Axios intercepted a PerimeterX block response",type:"intercept",url:e.url,code:LOG_CODE},stat:metric("intercept")});var t=$.cookie(REPEAT_SOLVE_COOKIE_NAME);if(t){var r=t.split(REPEAT_SOLVE_COOKIE_SEPARATOR).map(Number),n=_slicedToArray(r,2),o=n[0],i=n[1],a=Date.now()-i;EXONERATION_EXPIRATION>a&&message({log:{message:"Advanced block event after challenge solve: "+o+" in "+Math.round(a/1e3)+" seconds.",level:"warn",interval:a,code:"REPEAT_CHALLENGE_SOLVE",url:e.url,vid:$.cookie("_pxvid"),u_guid:$.cookie("u_guid"),referrer:document.referrer,facility:metaTag("fiverrmeta:facility")||"web"}})}},onignore:function(e){return message({log:{level:"info",message:"Axios ignored a PerimeterX block response",type:"ignore",url:e.url,code:LOG_CODE},stat:metric("ignore")})},onsuccess:function(e){message({log:{level:"info",message:"Axios interceptor exonerated request",type:"success",url:e.url,code:LOG_CODE},stat:metric("success")});var t=$.cookie(REPEAT_SOLVE_COOKIE_NAME),r=t?t.split(REPEAT_SOLVE_COOKIE_SEPARATOR).map(Number):[],n=_slicedToArray(r,2),o=n[0],i=void 0===o?0:o,a=n[1],s=void 0===a?Date.now():a,u=s+EXONERATION_EXPIRATION;document.cookie=[REPEAT_SOLVE_COOKIE_NAME+"="+(i+1)+REPEAT_SOLVE_COOKIE_SEPARATOR+s,"expires="+new Date(u).toUTCString(),"max-age="+Math.floor((u-Date.now())/1e3),"domain=.fiverr.com","path=/","samesite=none","secure"].join("; ")},onfailure:function(e,t){return message({log:{level:"info",message:t.message,type:"failure",url:e.url,stack:t.stack,code:LOG_CODE},stat:metric("failure")})},onerror:function(e){return setTimeout(function(){if("UNSUPPORTED_BROWSER"!==e.code)throw e.code="AXIOS_INTERCEPTOR_ERROR",e})},modalConfig:{timeout:6e3}})}function enrich(e){var t={facility:metaTag("fiverrmeta:facility")||"web",url:window.location.href,referrer:document.referrer,readyState:document.readyState,creation:metaTag("fiverrmeta:creation"),locale:metaTag("fiverrmeta:locale"),is_known_crawler:Boolean(metaTag("fiverrmeta:is_known_crawler")),suspected_spoof:supportES6===!1&&"true"===metaTag("es6_browser")};try{t.pxid=window.sessionStorage.getItem("pxsid"),t.age=Math.round(performance.now()/1e3)}catch(r){}return Object.assign(e,{meta:t})}function metaTag(e){var t=document.querySelector('meta[name="'+e+'"]');return t&&t.getAttribute("content")}var _slicedToArray=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_axios=__webpack_require__(36),_axios2=_interopRequireDefault(_axios),_perimeterxAxiosInterceptor=__webpack_require__(464),LOG_CODE="AXIOS_INTERCEPT_EVENT",EXONERATION_EXPIRATION=9e5,REPEAT_SOLVE_COOKIE_NAME="_pxcrs",REPEAT_SOLVE_COOKIE_SEPARATOR="%3A",ignorePattern=new RegExp("^\\/("+["\\.well-known\\/","js_event_tracking","api\\/v1\\/activities","transmitter","manifest\\.json","tag_manager\\/fetch_events","inbox\\/counters","amiloggedin","localization\\/detect_language"].join("|")+")"),metric=function(e){return{key:["axios.interceptor.perimeterx",e].join("."),type:"count",value:1}},supportES6=!0;start()}})});